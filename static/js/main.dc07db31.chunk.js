(this["webpackJsonpgoit-react-hw-03-components"]=this["webpackJsonpgoit-react-hw-03-components"]||[]).push([[0],{11:function(t,e,n){t.exports={section:"Section_section__1vfvB",title:"Section_title__1atnp"}},12:function(t,e,n){t.exports={label:"Filter_label__3r3ht",input:"Filter_input__1nDyi"}},22:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),o=n.n(c),r=n(13),s=n.n(r),i=(n(22),n(23),n(7)),l=n(3),u=n(4),m=n(6),h=n(5),d=n(11),b=n.n(d);var j=function(t){var e=t.title,n=t.children;return Object(a.jsxs)("div",{className:b.a.section,children:[Object(a.jsx)("h1",{className:b.a.title,children:e}),n]})},f=n(14),p=n(8),g=n.n(p),O=n(53),v=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={contacts:[],name:"",number:""},t.handleChange=function(e){t.setState(Object(f.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var n=[{name:t.state.name,number:t.state.number,id:Object(O.a)()}];t.state.contacts.find((function(e){return e.name.toLowerCase()===t.state.name.toLowerCase()}))?alert("This contact is already in phonebook"):(t.setState({contacts:[].concat(Object(i.a)(t.state.contacts),n)}),t.props.onAddContact(n),t.reset())},t.reset=function(){t.setState({name:"",number:""})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(a.jsxs)("form",{className:g.a.form,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{className:g.a.formLabel,children:["Name",Object(a.jsx)("input",{name:"name",type:"text",className:g.a.formInput,value:e,onChange:this.handleChange,required:!0})]}),Object(a.jsxs)("label",{className:g.a.formLabel,children:["Number",Object(a.jsx)("input",{name:"number",type:"text",className:g.a.formInput,value:n,onChange:this.handleChange,required:!0})]}),Object(a.jsx)("button",{type:"submit",className:g.a.formButton,children:"Add contact"})]})}}]),n}(c.Component),x=n(9),y=n.n(x);var C=function(t){var e=t.contacts,n=t.onRemove;return Object(a.jsx)("ul",{className:y.a.list,children:e.map((function(t){return Object(a.jsxs)("li",{className:y.a.item,children:[Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{children:[t.name,": "]}),Object(a.jsx)("span",{children:t.number})]}),Object(a.jsx)("button",{className:y.a.button,onClick:function(){return n(t.id)},children:"Delete"})]},t.id)}))})},S=n(12),k=n.n(S);var N=function(t){var e=t.value,n=t.onChangeFilter;return Object(a.jsxs)("label",{className:k.a.label,children:["Find contacts by name",Object(a.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)},className:k.a.input})]})},w=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={contacts:[],filter:""},t.addContact=function(e){t.setState((function(t){return{contacts:[].concat(Object(i.a)(t.contacts),Object(i.a)(e))}}))},t.changeFilter=function(e){t.setState({filter:e})},t.getVisibleContacts=function(){var e=t.state,n=e.contacts,a=e.filter;return n.filter((function(t){return t.name.toLowerCase().includes(a.toLowerCase())}))},t.deleteContact=function(e){t.setState({contacts:t.state.contacts.filter((function(t){return t.id!==e}))})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("contacts");t&&this.setState({contacts:JSON.parse(t)})}},{key:"componentDidUpdate",value:function(t,e){e.contacts!==this.state.contacts&&localStorage.setItem("contacts",JSON.stringify(this.state.contacts))}},{key:"render",value:function(){var t=this.getVisibleContacts();return Object(a.jsxs)("div",{children:[Object(a.jsx)(j,{title:"Phonebook",children:Object(a.jsx)(v,{onAddContact:this.addContact})}),Object(a.jsxs)(j,{title:"Contacts",children:[Object(a.jsx)(N,{value:this.state.filter,onChangeFilter:this.changeFilter}),t.length>0?Object(a.jsx)(C,{contacts:t,onRemove:this.deleteContact}):Object(a.jsx)("p",{children:"You need to add the first contact"})]})]})}}]),n}(c.Component),_=(n(24),function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:""},t.handleSearchChange=function(e){t.setState({name:e.target.value.toLowerCase()})},t.handleSubmit=function(e){e.preventDefault(),""!==t.state.name.trim()?t.props.onSubmit(t.state.name):alert("Search images and photos")},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleSearchChange})]})})}}]),n}(c.Component));n(25),n(26);var I=function(t){var e=t.images,n=t.onClickZoomIn;return Object(a.jsx)(a.Fragment,{children:e.map((function(t){var e=t.id,c=t.webformatURL,o=t.largeImageURL,r=t.tag;return Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{src:c,alt:r,onClick:function(){return n(o)},className:"ImageGalleryItem-image"})},e)}))})};var F=function(t,e){return fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(e,"&key=19199045-2bc94f1b29c918ae7d7bc7dd7&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){if(t.ok)return t.json()}))},L=(n(27),function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).handleKeyDown=function(e){"Escape"===e.code&&t.props.onClose()},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"Overlay",onClick:this.props.onBackdropClick,children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("img",{className:"ModalImage",src:this.props.largeImage,alt:""})})})}}]),n}(c.Component));n(28);function B(t){var e=t.incrementPage;return Object(a.jsx)("div",{className:"ButtonContainer",children:Object(a.jsx)("button",{className:"Button",onClick:e,children:"Load more"})})}var M=n(15),D=n.n(M),A=n(16),P=n.n(A),T=(n(50),function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(P.a,{className:"Spinner",type:"Puff",color:"#303f9f",height:50,width:50,timeout:2e3})}}]),n}(c.Component)),U="idle",E="pending",R="resolved",q="rejected",G=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={images:[],page:1,showModal:!1,status:U,largeImage:null},t.scrool=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},t.handleImageClick=function(e){t.setState({largeImage:e,showModal:!0}),document.body.style.overflow="hidden"},t.toggleModal=function(){t.setState({showModal:!1}),document.body.style.overflow=""},t.handleBackdropClick=function(e){"Overlay"===e.target.className&&t.toggleModal()},t.incrementPage=function(){t.setState({page:t.state.page+1})},t}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this,a=t.onChangeName,c=this.props.onChangeName;a!==c&&(this.setState({status:E}),setTimeout((function(){F(c).then((function(t){0!==t.hits.length?(n.setState({images:t.hits,status:R}),n.scrool()):D.a.fire({title:"OMG!",text:"No results found!",icon:"error"})})).catch((function(t){return n.setState({status:q})}))}),1500)),e.page!==this.state.page&&(this.setState({status:E}),setTimeout((function(){F(c,n.state.page).then((function(t){n.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t.hits)),status:R}})),n.scrool()})).catch((function(t){return n.setState({status:q})}))}),1500))}},{key:"render",value:function(){var t=this.state,e=t.images,n=t.largeImage,c=t.showModal,o=t.status;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("ul",{className:"ImageGallery",children:[Object(a.jsx)(I,{images:e,onClickZoomIn:this.handleImageClick}),c&&Object(a.jsx)(L,{onClose:this.toggleModal,onBackdropClick:this.handleBackdropClick,largeImage:n})]}),o===E&&Object(a.jsx)(T,{height:100,width:100,timeout:2e3}),(e.length>0||o===R)&&Object(a.jsx)(B,{incrementPage:this.incrementPage})]})}}]),n}(c.Component),J=function(t){Object(m.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:""},t.handleFormSubmit=function(e){t.setState({name:e})},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{onSubmit:this.handleFormSubmit}),Object(a.jsx)(G,{onChangeName:this.state.name})]})}}]),n}(c.Component);var K=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{}),Object(a.jsx)(J,{})]})};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(K,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"Form_form__SSmxy",formLabel:"Form_formLabel__3TBB3",formInput:"Form_formInput__1I8Fc",formButton:"Form_formButton__1P5qK"}},9:function(t,e,n){t.exports={list:"ContactsList_list__3sTZc",item:"ContactsList_item__3UXD2",button:"ContactsList_button__Rsc2n"}}},[[51,1,2]]]);
//# sourceMappingURL=main.dc07db31.chunk.js.map